{% extends "base.html" %}

{% block content %}

<div class="container">
    <div class="panel panel-default">

        <div class="panel-heading">
            <h3 class="panel-title"><strong>Tableau du tournoi</strong></h3>
        </div>

        <div class="panel-body">


<main id="tournament">

    {% for round in tournament.get_matches_by_round() %}
        <ul class="round">
            <li class="spacer">&nbsp;</li>

            {% for match in round["matches"] %}

                <li id="player-{{ match.position }}-0"
                    class="game game-player {% if round['first_round'] %}first-round{% endif %}">
                    {% if match.tournament_player1_id %}
                        {{ match.tournament_player1.get_full_name() }}
                    {% else %}
                        &nbsp;
                    {% endif %}
                </li>
                <li class="game game-spacer">&nbsp;</li>
                <li id="player-{{ match.position }}-1"
                    class="game game-player {% if round['first_round'] %}first-round{% endif %}">
                    {% if match.tournament_player2_id %}
                        {{ match.tournament_player2.get_full_name() }}
                    {% else %}
                        &nbsp;
                    {% endif %}
                </li>

                <li class="spacer">&nbsp;</li>
            {% endfor %}

        </ul>
        {% endfor %}

    <ul class="round">

        <li id="player-0-0"
            class="game game-player">
            {% if tournament.last_match.winner %}
                {{ tournament.last_match.winner.get_full_name() }}
            {% else %}
                &nbsp;
            {% endif %}
        </li>
    </ul>
</main>

        </div>
    </div>
</div>

{% endblock %}

