{% extends "base.html" %}

{% block styles %}

{{ super() }}
<link rel="stylesheet" href="{{ url_for('static', filename='bower_components/eonasdan-bootstrap-datetimepicker/build/css/bootstrap-datetimepicker.min.css') }}">

{% endblock %}


{% block content %}


<div class="panel panel-default">

    <div class="panel-heading">
        <h3 class="panel-title">Créer un tournoi</h3>
    </div>

    <form action="{{ url_for('tournament.create_tournament') }}" method="POST">
        {{ form.hidden_tag() }}

        <div class="panel-body">
            <div class="row">
                <div class="col-md-8 col-md-offset-2">

                    <div class="btn-group" role="group">
                        <a class="btn btn-secondary btn-outline"
                           href="{{ url_for('tournament_category.create_category') }}">
                        <span class="fa fa-pencil"></span>
                            Créer une nouvelle catégorie de tournoi
                        </a>
                    </div>
                    <div class="btn-group" role="group">
                        <a class="btn btn-secondary btn-outline"
                           href="{{ url_for('tournament_category.view_categories') }}">
                        <span class="fa fa-list"></span>
                            Voir les catégories de tournoi existantes
                        </a>
                    </div>

                    <div class="form-group {% if form.name.errors %} has-error {% endif %}">
                        {{form.name.label()}}
                        <div>
                            {{form.name(class="form-control")}}
                        </div>
                        <p class="help-block">
                            {{ form.name.errors[0] }}
                    </div>

                    <div class="form-group {% if form.tournament_topic_url.errors %} has-error {% endif %}">
                        {{form.tournament_topic_url.label()}}
                        <div>
                            {{form.tournament_topic_url(class="form-control")}}
                        </div>
                        <p class="help-block">
                            {{ form.tournament_topic_url.errors[0] }}
                    </div>

                    <div class="form-group {% if form.jeudelorgue_topic_url.errors %} has-error {% endif %}">
                        {{form.jeudelorgue_topic_url.label()}}
                        <div>
                            {{form.jeudelorgue_topic_url(class="form-control")}}
                        </div>
                        <p class="help-block">
                            {{ form.jeudelorgue_topic_url.errors[0] }}
                    </div>

                    <div class="form-group {% if form.category.errors %} has-error {% endif %}">
                        {{form.category.label()}}
                        <div>
                            {{form.category(class="form-control")}}
                        </div>
                        <p class="help-block">
                            {{ form.category.errors[0] }}
                    </div>

                    <div class="form-group {% if form.surface.errors %} has-error {% endif %}">
                        {{form.surface.label()}}
                        <div>
                            {{form.surface(class="form-control")}}
                        </div>
                        <p class="help-block">
                            {{ form.surface.errors[0] }}
                    </div>

                    <div class="form-group {% if form.start_date.errors %} has-error {% endif %}">
                        {{form.start_date.label()}}
                        <div class="input-group date" id="datetimepicker">
                            {{ form.start_date(class="form-control") }}
                            <span class="input-group-addon">
                                <span class="fa fa-calendar"></span>
                            </span>
                        </div>
                        <p class="help-block">
                            {{ form.start_date.errors[0] }}
                    </div>

                    <div class="form-group">
                        <button class="btn btn-success" type="submit">Valider</button>
                    </div>

                </div>
            </div>
        </div>
    </form>
</div>

{% endblock %}


{% block extrajs %}
<script src="{{ url_for('static', filename='bower_components/moment/locale/fr.js') }}"></script>
<script src="{{ url_for('static', filename='bower_components/eonasdan-bootstrap-datetimepicker/build/js/bootstrap-datetimepicker.min.js') }}"></script>

<script type="text/javascript">
    $(document).ready(function () {
        $('#datetimepicker').datetimepicker();
    });


</script>

{% endblock %}
